<!--
You are free to copy and use this sample in accordance with the terms of the
Apache license (http://www.apache.org/licenses/LICENSE-2.0.html)
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps API Sample</title>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=AIzaSyDmEIMDfY8eo3309fI9JAjJnZbThVSwCZs" type="text/javascript">
	</script>
    <script type="text/javascript">

    var myPano;
	var map;
	var ge;
    
    function initialize() {
      var fenwayPark = new GLatLng(49.485181,8.463062);
      panoramaOptions = { latlng:fenwayPark };
      myPano = new GStreetviewPanorama(document.getElementById("pano"), panoramaOptions);
      //GEvent.addListener(myPano, "error", handleNoFlash);
    
	  //myPano = new google.maps.StreetViewPanorama(document.getElementById("pano"), panoramaOptions);
	
	
      map = new google.maps.Map(document.getElementById('map3d'));
      map.setCenter(new GLatLng(50, 0), 3);
    
      //var mapui = map.getDefaultUI();
      //mapui.maptypes.physical = false;
	 // mapui.setMapType(G_SATELLITE_3D_MAP);
      //map.setUI(mapui);
    
	  var streetOverlay = new GStreetviewOverlay();
	  //map.addOverlay(streetOverlay);
	
      // add 'Earth' as one of the map types
      map.addMapType(G_SATELLITE_3D_MAP);
      map.addMapType(G_HYBRID_MAP);
	  
      // do stuff with Earth when the user switches to it
      GEvent.addListener(map, 'maptypechanged', function() {
        if (ge)
          return;
    
        map.getEarthInstance(function(pluginInstance) {
          ge = pluginInstance;
		  ge.getNavigationControl().setVisibility(ge.VISIBILITY_HIDE);
			ge.getLayerRoot().enableLayerById(ge.LAYER_BORDERS, true);
		 ge.getLayerRoot().enableLayerById(ge.LAYER_BUILDINGS , true);
		 ge.getLayerRoot().enableLayerById(ge.LAYER_ROADS, true);
        });
      });
	  
	  
      //map.setMapType(G_SATELLITE_3D_MAP);
	  //map.setStreetView(myPano);


	 
	 
	  }
    
    function handleNoFlash(errorCode) {
      if (errorCode == FLASH_UNAVAILABLE) {
        alert("Error: Flash doesn't appear to be supported by your browser");
        return;
      }
    }  
    
	function mapTypeEarth(){
		  map.setMapType(G_SATELLITE_3D_MAP);
	}
	function mapTypeMaps(){
		  map.setMapType(G_NORMAL_MAP );
	}
	
	
	function lookAtFrankfurt(){

	var lang = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND).getLatitude();
	var long1 = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND).getLongitude();
	
		alert(lang );
		alert(long1);
		mapTypeMaps();
		myPano = new GStreetviewPanorama(document.getElementById("stview"));
		//var latlang = marker.getLatLng();
		myPano.setLocationAndPOV(lang,long1);
	
	
/*
		//myPano = map.getStreetView();
		myPano = new GStreetviewPanorama(document.getElementById("stview"));
		
		/*var panoramaOptions = {
			position : new google.maps.LatLang(50.637,8.4056)
		}
		
		
		var panorama = new  google.maps.StreetViewPanorama(document.getElementById("pano"), panoramaOptions);
		map.setStreetView(panorama);
		myPano = map.getStreetView();
		*/
		/*
		var latlang = ge.ALTITUDE_RELATIVE_TO_GROUND;
		myPano.setLocationAndPOV(latlang);
	 if(ge.ALTITUDE_RELATIVE_TO_GROUND < 3000){
	
		panorama.setVisible(true);
	  }else{
		panorama.setVisible(false);
	  }
	  */
	}
	
  

     
     function initCB(instance) {

		 /* Basic initialization as per the Google Earth API documentation */
		 ge = instance;			
		 // Specific instance of the Google Earth (you can have more than one)
		 ge.getWindow().setVisibility(true);
		 ge.getLayerRoot().enableLayerById(ge.LAYER_BORDERS, true);
		 ge.getLayerRoot().enableLayerById(ge.LAYER_BUILDINGS , true);
		 ge.getLayerRoot().enableLayerById(ge.LAYER_ROADS, true);
		
		
     }

     function failureCB(errorCode) {
		alert("Google Earth ist nicht Installiert, bitte installieren Sie das Google Earth Plugin!");
     }
	
	
	function lookRigthOnEarth(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Add 25 degrees to the current latitude and longitude values.
		lookAt.setLatitude(lookAt.getLatitude() + 2.0);
		lookAt.setLongitude(lookAt.getLongitude() + 40.0);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}

	function lookAt(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Set new latitude and longitude values.
		lookAt.setLatitude(50.637);
		lookAt.setLongitude(8.4056);
		lookAt.setRange(5000);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	function lookAtFrankfurt2(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Set new latitude and longitude values.
		lookAt.setLatitude(50.110922);
		lookAt.setLongitude(8.682127);
		lookAt.setRange(35000);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	function lookAtMannheim(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Set new latitude and longitude values.
		lookAt.setLatitude(49.487459);
		lookAt.setLongitude(8.466039);
		lookAt.setRange(35000);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	
	function lookAtNewYork(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Set new latitude and longitude values.
		lookAt.setLatitude(40.714353);
		lookAt.setLongitude(-74.005973);
		lookAt.setRange(35000);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	function zoomIn1(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Zoom out to twice the current range.
		lookAt.setRange(lookAt.getRange() / 2.0);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	function zoomIn2(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Zoom out to twice the current range.
		lookAt.setRange(lookAt.getRange() / 4.0);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	function zoomOut1(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Zoom out to twice the current range.
		lookAt.setRange(lookAt.getRange() * 2.5);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	function zoomOut2(){
		// Get the current view.
		var lookAt = ge.getView().copyAsLookAt(ge.ALTITUDE_RELATIVE_TO_GROUND);

		// Zoom out to twice the current range.
		lookAt.setRange(lookAt.getRange() * 4.0);

		// Update the view in Google Earth.
		ge.getView().setAbstractView(lookAt);
	}
	 // Calls specified once all HTML, requested APIs are loaded (google)
     //google.setOnLoadCallback(init); 
       </script>
  </head>
  <body onload="initialize()" onunload="GUnload()" style="font-family: Arial;border: 0 none;">
    <div name="pano" id="pano" style="width: 500px; height: 300px"></div>
	<div name="map3d" id="map3d" style="width: 500px; height: 300px"></div>
	
  </body>
</html>
​
​